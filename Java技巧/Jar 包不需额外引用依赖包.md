# Jar 包不需额外引用依赖包

很多时候，人们会希望将目标项目以及其依赖的依赖包一起打成一个 jar 包，如此，只需要使用一个 jar 包，就可以使用整个项目的内容。

要达到这样的效果，首先需要了解其中的原理：

**如果想项目不用再引用第三方依赖，首先需要将项目单独打成 jar，然后将项目的 jar 和全部第三方依赖的 jar 进行解压，将它们整合，然后再打成一个 jar。最后打出来的 jar 就包含了全部的第三方依赖，就不需要再额外引用依赖包了。**

**经过研究，使用 MANIFEST.MF 打包是不能达到这样的效果的**，它本质上并没有将依赖包的内容**提取**出来，然后与项目的内容放到一起。

想要达到以前的效果，有如下三个方法：

- 使用 Eclipse 打包，选择 Runnable JAR file 将项目打成可运行的 jar 包
- 使用 IDEA 进行打包
- 使用命令行的方式打包

以下一一说明。

## 使用 Eclipse 打包

该方法可以参考：https://jingyan.baidu.com/article/a378c960ef251db329283010.html

主要有以下流程：

1. 在需要打包的项目里新建一个类，在该类里面写一个 main 方法，main 方法为空，并执行一次

2. 右键项目 => Export => Java => Runnable JAR file 

   => 在 Launch configuration 中选择刚刚新建的类 

​       => 在 Export destination 中选择 Jar 生成的位置 

​		=> 在 Library handling 中选择第一个 Extract ...

​        => 点击 Finish

3. 出来的 jar 里面就包含了依赖包，直接引用这个 jar 就可以了。更好的是，把 jar 包里刚刚新建的类删去

## 使用 IDEA 进行打包

IDEA 与 Eclipse 相似，都是 IDE 开发环境，但是 IDEA 中打包可以直接提取第三方依赖，打出来的 jar 包就已经提取（Extract）了第三方依赖的内容。

IDEA 打包的方式使用百度搜索即可。

## 使用 Java 命令行解包/打包

使用 Java 命令可以将 .jar 压缩包进行解压，同理，也可以将将 .java 文件打成 .jar。

- 解压：jar xf [jar包的名字]
- 生成 .jar：jar cf [jar包的名字] [被压缩的文件/文件夹]

**什么时候用着这种方法？**

当需要将一个项目打成 jar，同时，还需要包含这个项目的全部依赖（不是 jar，是以文件的方式存在）。

1. 先将项目打成 jar，不包含依赖。
2. 将项目的 jar 和依赖包放到同一文件夹下，用**解压命令**将所有 jar 解压，然后再使用**生成命令**打成新的 jar 包。

