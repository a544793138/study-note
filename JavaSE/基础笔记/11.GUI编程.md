# 第十一章 - GUI编程

GUI：图形用户接口

java中关于图形的类都封装到 awt 这个包里

1. awt是java比较旧的图形开发包，并不能完全实现跨平台，宽口会稍有不同，而比较新的是swing这个包，现在一般都是swing，但是swing离不开awt。
2. Container和Component是awt中两个核心类
   - Component：所有可以显示出来的元素都是Component，而在Component下有一子类，Container（如窗口），它是用来容纳Componentqita其他元素（如按钮）的。
   - Container
     - window - 可以独自显示的，作为一个应用程序的独立窗口
       - Frame - 一般的窗口
       - Dialog - 就是那些你不点掉就不让你进行其他操作的窗口
     - Panel - 不可以像window一样，显示出现来就要放在window中

> 注意

Container可以装Component，也可以装Container

## 1 Frame

有一个子类，JFrame - 在Swing里的

> 注意

1.Panel的setBounds方法，表示的位置是相对于装着Panel的窗口位置，即所填的位置是Panel在窗口中的位置，不用考虑窗口在屏幕中的位置

2.想要Panel位于Frame正中间，位置就是x=w/4, y=h/4

## 2 布局管理器

因为一个窗口中可能会存在多个Panel等元素，而每一个你都要规定它的大小和位置是很麻烦的事，还有就是当外在窗口改变大小后，Panel等元素是否跟着改变大小。这些问题可以交给这个总窗口的布局管理器来解决。

**我们负责往里添加元素就可以了。**

awt提供了5中布局管理器类，有各自的风格，都实现了一个接口 LayoutManger:

 - FlowLayout
 - BorderLayout
 - GridLayout
 - GridBagLayout
 - GardLayout

> FlowLayout

Panel类的默认布局管理器，逐行排列元素，默认对齐方式是居中。对齐方式是可以自己设定的，通过使用类中的变量

> BorderLayout

Frame类的默认布局管理器，划分成东南西北中，5个区域

注意：

1. 如果不指定组件的加入部位，则默认放到中间
2. 每个区域只可以添加一个组件，如果放多个，则先前放的会被覆盖掉。
3. 南，北两个区域在水平方向缩放，东西在垂直方向。中间两个方向都可以缩放
4. 指定部位的时候，可以用String类型来表示，也可以用类的常量来表示。例如："North"\BorderLayout.NORTH
5. 如果窗口中那个部位没有组件，那么那个不问将不会显示出来。

> GridLayout

将空间画风成规则的矩形网格，每个单元格区域大小相等

1. 添加组件时，先从左到右添满一行后换行，再从上到下
2. 构造方法中指定分割的行数和列数，如 GridLayout(3,4) - 3行4列

> pack

是Frame继承window的方法

作用：

 - 调整此窗口的大小，以适合其子组件的首选大小和布局，即把所有组件包括起来，这样就不用使用setSize来设定大小了

> 总结

使用布局管理器时，它负责了各个组件的大小和位置，所以使用setLocation()等改变组件大小和位置方法，会被布局管理器覆盖，没有作用。所以如果需要亲自设置时，就取消布局管理器。setLayout(null);

## 3 事件监听

> 注意

1. ActionListener接口对应 ActionEvent类

2. 监听器是自己定义的类，这个类用来监听哪个部件的哪个事件，就需要实现那个接口，然后重写某个方法。
3. 当事件发生的时候，系统会把时间的一系列信息封装起来，然后告诉那个被重新的方法
4. 事件与实现的接口是一一对应的，不同的事件实现不同接口来监听
5. 如果同一监听器监听多个按钮，可以通过设置不同的命令名称来区分，因为有些按钮取名是一样的，setActionCommand, getActionCommand

> java.awt.TextField 类

用来创建文件框对象（即输入框）

- 事件监听
  1. 输入框也会有Action事件发生。就是在光标在文本框内敲回车
  2. 当需要访问事件源对象里内容时，通常这个对象位于别的类中（监听器自己一个类），直接访问是不行的。可以通过系统给你封装的信息类（如：ActionEvent）的对象调用getSource方法来访问。同时注意getSource返回的是Object类型，需要转换为事件源对象的类。
  3. 打印出文本框内容后，把文本框设置成空，更像对话。
  4. getSource，最初发生Event的对象
  5. setEchoChar，设置此文本字段的回显字符，即无论你输入什么，它都显示这个字符，就像输入密码一样

> 内部类：TFMath

不使用内部类访问其他类中变量的方法有两个：

1. 通过构造方法的参数一个个传递，在其他类中拥有相同的变量
2. 把整个Frame的引用交给需要访问它变量的类

**注意**

- 虽然可以通过构造方法参数的逐一传递访问到别的类里的成员变量，但是这样会造成程序的混乱麻烦。更好的方式是让监听器持有Frame的整个引用，即监听器类的构造方法传递的参数是自己定义的窗口类的引用。需要访问的局部变量要变成成员变量。
- 

​	